// BeamEffect.module.scss
.beamWrapper {
  position: absolute;
  top: -120px; // выше для более длинных лучей
  left: 50%;
  transform: translateX(-50%);
  width: 15px;
  height: 120px;
  pointer-events: none;
  overflow: visible;
  z-index: -1;

  backface-visibility: hidden;
  perspective: 1000;

  &::before {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 20px;
  background: radial-gradient(
    circle,
    rgba(0, 255, 255, 0.8) 0%,
    rgba(0, 200, 255, 0.4) 30%,
    transparent 70%
  );
  border-radius: 50%;  
}

}

.beam {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: var(--thickness, 3px);
  height: var(--beam-length, 250px);
  background: linear-gradient(
    0deg,
    rgba(0, 255, 255, 0.95) 0%,
    rgba(0, 255, 255, 0.4) 40%,
    transparent 100%
  );
  transform-origin: bottom center;
  transform: translateX(-50%) rotate(var(--angle, 0deg)) scaleY(0);
  opacity: 0;
  animation: beam-project 3s ease-in-out infinite;
  animation-delay: var(--delay, 0s);
  filter: blur(0.8px);

  will-change: transform, opacity;
  
  // Усиленный эффект мерцания
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      0deg,
      transparent 0%,
      rgba(255, 255, 255, 0.9) 20%,
      rgba(200, 255, 255, 0.7) 40%,
      transparent 70%
    );
    opacity: 0;
    animation: beam-shimmer 3.5s ease-in-out infinite;
    animation-delay: var(--delay, 0s);
  }
}

.flickerBeam {
  animation: beam-flicker 5s ease-in-out infinite;
  opacity: var(--opacity, 0.3);
  
  &::before {
    animation: beam-shimmer-flicker 2.5s ease-in-out infinite;
  }
}

@keyframes beam-project {
  0% {
    transform: translateX(-50%) rotate(var(--angle)) scaleY(0);
    opacity: 0;
  }
  15% {
    transform: translateX(-50%) rotate(var(--angle)) scaleY(1);
    opacity: var(--opacity, 0.8);
  }
  75% {
    transform: translateX(-50%) rotate(var(--angle)) scaleY(1);
    opacity: var(--opacity, 0.8);
  }
  100% {
    transform: translateX(-50%) rotate(var(--angle)) scaleY(1);
    opacity: 0;
  }
}

@keyframes beam-shimmer {
  0%, 100% {
    opacity: 0;
    transform: translateY(100%);
  }
  30% {
    opacity: 0.8;
    transform: translateY(30%);
  }
  60% {
    opacity: 0.4;
    transform: translateY(0%);
  }
}

@keyframes beam-flicker {
  0%, 100% {
    opacity: 0.1;
    transform: translateX(-50%) rotate(var(--angle)) scaleY(0.7);
  }
  25%, 65% {
    opacity: var(--opacity, 0.4);
    transform: translateX(-50%) rotate(var(--angle)) scaleY(1);
  }
  45% {
    opacity: 0.05;
    transform: translateX(-50%) rotate(var(--angle)) scaleY(0.5);
  }
}

@keyframes beam-shimmer-flicker {
  0%, 100% {
    opacity: 0;
  }
  20%, 80% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.9;
  }
}



