/* RedCartoonButton.scss */
:root {
  --rcb-size: 220px;
}

/* wrapper centers button */
.rcb-wrapper {
  width: var(--rcb-size);
  height: var(--rcb-size);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
}

/* actual button (reset) */
.rcb-button {
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  display: inline-block;
  transform-origin: center;
  outline: none;

  /* make clicking smooth on mobile */
  -webkit-tap-highlight-color: transparent;
}

/* base svg styling */
.rcb-svg {
  display: block;
  width: 100%;
  height: auto;
  transform-origin: center center;
  transition: transform 150ms cubic-bezier(.2,.9,.3,1), filter 120ms;
}

/* hover: gentle pop + glow */
.rcb-button:hover .rcb-svg {
  transform: translateY(-4px) scale(1.02);
  filter: drop-shadow(0 8px 18px rgba(255, 40, 40, 0.28));
}

/* outline playful wobble (infinite slow) */
.rcb-outline {
  transform-origin: center;
  transition: stroke-dashoffset 300ms;
}

/* sparkle - small idle float */
.rcb-sparkle {
  transform-origin: center;
  transform-box: fill-box;
  animation: sparkle-float 2200ms ease-in-out infinite;
  opacity: 0.95;
}

@keyframes sparkle-float {
  0% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.95; }
  50% { transform: translateY(-4px) rotate(12deg) scale(1.05); opacity: 1; }
  100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.95; }
}

/* ===== CLICK ANIMATION =====
   - quick squash (scaleY < 1) + scaleX up slightly (squash & stretch)
   - small wobble after release
   - sparkle burst (scale+fade)
*/
.rcb-pressed .rcb-svg {
  animation: rcb-press 550ms cubic-bezier(.2,.8,.4,1);
  transform-origin: center center;
}

/* animate the sparkle as burst on click */
.rcb-pressed .rcb-sparkle {
  animation: sparkle-burst 500ms cubic-bezier(.2,.9,.2,1) forwards;
}

/* slight outline jitter */
.rcb-pressed .rcb-outline {
  animation: outline-jitter 550ms cubic-bezier(.2,.8,.4,1);
}

/* press keyframes: compress vertically then bounce back with little overshoot */
@keyframes rcb-press {
  0% {
    transform: translateY(0) scale(1);
    filter: drop-shadow(0 8px 18px rgba(255, 40, 40, 0.28));
  }
  12% {
    transform: translateY(6px) scale(0.95, 0.86); /* first contact */
  }
  28% {
    transform: translateY(0) scale(1.03, 0.9); /* slight overshoot */
  }
  44% {
    transform: translateY(0) scale(0.98, 0.98);
  }
  60% {
    transform: translateY(0) scale(1.02, 1.02);
  }
  100% {
    transform: translateY(0) scale(1);
  }
}

/* sparkle burst effect */
@keyframes sparkle-burst {
  0% {
    transform: translate(0,0) scale(1);
    opacity: 0.95;
  }
  40% {
    transform: translate(8px,-12px) scale(1.6);
    opacity: 1;
  }
  100% {
    transform: translate(18px,-22px) scale(2.2);
    opacity: 0;
  }
}

/* outline jitter */
@keyframes outline-jitter {
  0% { transform: translate(0,0) rotate(0deg); }
  20% { transform: translate(-1px,1px) rotate(-2deg); }
  40% { transform: translate(2px,-1px) rotate(2deg); }
  60% { transform: translate(-1px,0) rotate(-1deg); }
  80% { transform: translate(1px,1px) rotate(1deg); }
  100% { transform: translate(0,0) rotate(0deg); }
}

/* focus style for accessibility */
.rcb-button:focus .rcb-svg {
  filter: drop-shadow(0 12px 26px rgba(255, 40, 40, 0.36));
  transform: translateY(-3px) scale(1.02);
}

/* Responsive: if container smaller, adjust */
@media (max-width: 420px) {
  :root {
    --rcb-size: 160px;
  }
}
